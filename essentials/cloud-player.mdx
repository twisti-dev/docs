---
title: "Cloud Player"
description: "Interact with CloudPlayers."
---

## Get an online player by UUID / name

```kotlin
val player = CloudPlayerManager.getPlayer("Notch") // or use an uuid

// or use the operator overload on CloudPlayer
val uuid = UUID.fromString("069a79f4-44e9-4726-a5be-fca90e38aaf5")
val other = CloudPlayer[uuid]
```

You can also convert a platform player wich implements kyori's `Audience` to a `CloudPlayer` :

```kotlin
val platformPlayer: Audience = ...;
val cloudPlayer: CloudPlayer? = platformPlayer.toCloudPlayer()
```

Now you can do some fun things with the player\!

## AFK & Play session

You can check whether a player is AFK or not by simply invoking the following method on a `CloudPlayer` :

```kotlin
val isAfk: Boolean = player.isAfk()
```

You also may want to check how long the current player has been playing on it's current server. You can easily get the current play duration by invoking:

```kotlin
val sessionDuration: Duration = player.currentSessionDuration() // suspend
```

## Modifying the player pdc

While you can only read the pdc on an `OfflineCloudPlayer` you can modify the pdc on an online `CloudPlayer`:

```kotlin
val key = key("my-plugin", "some-data-key")
player.withPersistentData { // this: PersistentPlayerDataContainer â€” suspend 
  setBoolean(key, true)
}
```

## Check connected server

Sometime you may want to check whether a player is in a server group or on a specific server. You can do this:

```kotlin
val server: CloudServer = player.currentServer()
val onServer: Boolean = player.isOnServer(server)
val inGroup: Boolean = player.isInGroup(server.group)
```

## Disconnecting a player

When you want to disconnect the player from the network you have two options. You can either disconnect them normal or you can silently kick them without the player noticing:

<CodeGroup>

```kotlin Normal
player.disconnect(buildText {
  // build disconnect message
  error("You have been kicked!")
})
```


```kotlin Silent
player.disconnectSilent()
```

</CodeGroup>

## Teleporting

You can also teleport a player across the network.

<CodeGroup>

```kotlin Location
val success: Boolean = player.teleport(worldUuid, 100.0, 10.0, 200.0)
```


```kotlin Player
val target: CloudPlayer = ...;
val success: Boolean = player.teleport(target)
```

</CodeGroup>

## Checking permissions

You can also check whether a cloud player has specific permisison:

```kotlin
val state: Boolean = player.hasPermission("my.permission")
```

## Permission depending messages / sounds

Sometime you may want to send a message or sound only if the player has specific permission. The `CloudPlayer` provides some handy methods for that:

```kotlin
player.sendMessage(text("Message"), "some.permission")
player.playSound(sound {...}, Sound.Emitter.self(), "some.other.permission")
```